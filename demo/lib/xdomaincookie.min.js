/*! xdomaincookie - v0.0.1 - 2015-11-27
* Copyright (c) 2015 ; Licensed  */
var xDomainCookie=void 0===xDomainCookie?{}:xDomainCookie;xDomainCookie.consumer={},xDomainCookie.consumer.init=function(a,b,c){window.onload=function(){var d=document.createElement("iframe");d.id="xDomainCookieIframe",c===!0?(d.style.display="block",d.style.width="100%",d.style.height="300px"):d.style.display="none",d.src=a,document.body.appendChild(d),b&&b()}},xDomainCookie.consumer.receiver=function(a,b){var c=window.addEventListener?"addEventListener":"attachEvent",d=window[c],e="attachEvent"===c?"onmessage":"message";d(e,function(c){b===!0&&console.log(c),a(c)})},xDomainCookie.consumer.create=function(a,b,c){var d=Math.random(),e={messageId:d,action:"create",data:{key:a,value:b,expiration:c}};return xDomainCookie.consumer.sendMessageToHost(e),d},xDomainCookie.consumer.destroy=function(a){var b=Math.random(),c={messageId:b,action:"destroy",data:{key:a}};return xDomainCookie.consumer.sendMessageToHost(c),b},xDomainCookie.consumer.retrieve=function(a){var b=Math.random(),c={messageId:b,action:"retrieve",data:{key:a}};return xDomainCookie.consumer.sendMessageToHost(c),b},xDomainCookie.consumer.sendMessageToHost=function(a){var b=document.getElementById("xDomainCookieIframe");b.contentWindow.postMessage(a,"*")};var xDomainCookie=void 0===xDomainCookie?{}:xDomainCookie;xDomainCookie.host={},xDomainCookie.host.create=function(a,b,c){var d=new Date;d.setTime(d.getTime()+24*c*60*60*1e3);var e="expires="+d.toUTCString();document.cookie=a+"="+b+"; "+e+"; Path=/;"},xDomainCookie.host.destroy=function(a){document.cookie=a+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"},xDomainCookie.host.retrieve=function(a){for(var b=a+"=",c=document.cookie.split(";"),d=0;d<c.length;d++){for(var e=c[d];" "===e.charAt(0);)e=e.substring(1);if(0===e.indexOf(b))return e.substring(b.length,e.length)}return""},xDomainCookie.host.sendCookieToConsumer=function(a,b,c,d){var e=xDomainCookie.host.retrieve(a),f={messageId:d,status:c,action:b,cookie:e};xDomainCookie.host.sendMessageToConsumer(f)},xDomainCookie.host.sendMessageToConsumer=function(a){parent.postMessage(a,"*")},xDomainCookie.host.init=function(a){var b=window.addEventListener?"addEventListener":"attachEvent",c=window[b],d="attachEvent"===b?"onmessage":"message";c(d,function(b){if(b.data&&b.data.data&&b.data.data)switch(b.data.action){case"destroy":xDomainCookie.host.destroy(b.data.data.key),xDomainCookie.host.sendCookieToConsumer(b.data.data.key,"destroy",!0,b.data.messageId);break;case"retrieve":xDomainCookie.host.retrieve(b.data.data.key),xDomainCookie.host.sendCookieToConsumer(b.data.data.key,"retrieve",!0,b.data.messageId);break;case"create":xDomainCookie.host.create(b.data.data.key,b.data.data.value,b.data.data.expiration),xDomainCookie.host.sendCookieToConsumer(b.data.data.key,"create",!0,b.data.messageId)}a&&a(b)})};